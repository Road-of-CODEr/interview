# 브라우저의 동작

## 브라우저의 주소창에 주소를 입력하면 어떤 일들이 일어나는가?

<details>
<summary>정답 보기</summary>

> 브라우저 주소창에 URL을 입력한다.
1. 해당 URL의 IP 주소를 찾기 위해 캐시에서 DNS 기록을 확인한다.

: URL에는 고유의 IP 주소가 있다. 하지만 이는 123.456.789.123 처럼 숫자로 이루어지기 때문에 외우기가 어렵고, 이를 편리하게 위해 DNS 라는것이 존재한다.
DNS(Domain Name System)가 자동으로 URL과 IP 주소를 매핑해주기 때문에 우리는 어려운 IP 주소 숫자를 외우지 않아도 된다.
그렇기에 입력한 URL의 IP주소를 찾기위해 캐시에서 해당 URL을 방문한 기록이 있는지 DNS 기록을 확인해본다.
- 브라우저 캐시: 내가 이전에 방문한 웹사이트의 DNS 기록이 있는지 찾는다.
- OS 캐시: OS에서 시스템 호출을 통해 DNS 기록이 있는지 찾는다.
- 라우터 캐시: 라우터에서 DNS 기록이 있는지 찾는다.
- ISP 캐시(Internet Service Provider): ISP는 DNS 서버를 가지는데, 해당 서버의 DNS 기록이 있는지 찾는다.


2. 요청한 URL이 캐시에 없다면 ISP의 DNS 서버가 DNS 쿼리로 URL을 호스팅하는 서버의 IP 주소를 찾는다.
: 즉, DNS쿼리로 인터넷의 여러 DNS 서버를 검색해 URL의 올바른 IP 주소를 찾고자 한다.


3. 브라우저가 해당 서버와 TCP 연결을 시작한다.
: 올바른 IP 주소를 찾으면 정보를 전송해 서버와의 연결을 구축한다.
HTTP 요청에서는 일반적으로 TCP 전송 프로토콜을 이용해 연결을 구축한다.
3-way handshake 라는 연결 과정을 통해 SYN(연결 요청), ACK(승인)을 주고받으면 연결이 구축된다.

4. 브라우저가 웹서버에 HTTP 요청을 보낸다.
브라우저가 URL에 해당하는 웹 페이지를 요청하는 GET 요청을 보낸다.

5. 서버가 요청을 처리하고 응답을 보낸다.
서버는 브라우저로부터 요청을 수신하고, 브라우저에 HTTP 응답응 보낸다.

6. 브라우저가 HTML 컨텐츠를 보여준다.
: 브라우저의 로딩과정
- HTML 파일을 다운로드
- 파싱해서 DOM 트리 구축, CSSOM 트리 구축
- DOM, CSSOM 트리로 렌더트리 구축
- 레이아웃 구축
- 페인트
- 합성


</details>
